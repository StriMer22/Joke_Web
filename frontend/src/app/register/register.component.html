<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <p-card>
        <ng-template pTemplate="header">
          <span class="fs-2 ms-2">Rejestracja</span>
        </ng-template>
        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()">
          <div class="p-fluid">
            <div class="p-field">
              <label for="username">Nazwa użytkownika</label>
              <input
                id="username"
                type="text"
                pInputText
                formControlName="username"
              />
              <div
                *ngIf="
                  registerForm.get('username')?.invalid &&
                  (registerForm.get('username')?.dirty ||
                    registerForm.get('username')?.touched)
                "
                class="p-error mt-1"
              >
                <div *ngIf="registerForm.get('username')?.errors">
                  Nazwa użytkownika jest wymagana.
                </div>
              </div>
            </div>
            <div class="p-field">
              <label for="password">Hasło</label>
              <p-password
                id="password"
                formControlName="password"
                [promptLabel]="'Wpisz hasło'"
                [weakLabel]="'Słabe'"
                [strongLabel]="'Silne'"
                [mediumLabel]="'Średnie'"
                [feedback]="true"
              ></p-password>
              <div
                *ngIf="
                  registerForm.get('password')?.invalid &&
                  (registerForm.get('password')?.dirty ||
                    registerForm.get('password')?.touched)
                "
                class="p-error mt-1"
              >
                <div *ngIf="registerForm.get('password')?.errors?.['required']">
                  Hasło jest wymagane.
                </div>
                <div
                  *ngIf="registerForm.get('password')?.errors?.['minlength']"
                >
                  Hasło musi składać się z co najmniej 8 znaków.
                </div>
              </div>
            </div>
            <div class="p-field">
              <label for="confirmPassword">Potwierdź hasło</label>
              <p-password
                id="password"
                formControlName="confirmPassword"
                [feedback]="false"
              ></p-password>
              <div
                *ngIf="
                  registerForm.get('confirmPassword')?.invalid &&
                  (registerForm.get('confirmPassword')?.dirty ||
                    registerForm.get('confirmPassword')?.touched)
                "
                class="p-error mt-1"
              >
                <div
                  *ngIf="registerForm.get('confirmPassword')?.errors?.['required']"
                >
                  Potwierdzenie hasła jest wymagane.
                </div>
                <div
                  *ngIf="registerForm.get('confirmPassword')?.errors?.['passwordMismatch']"
                >
                  Hasło i potwierdzenie hasła muszą być identyczne.
                </div>
              </div>
            </div>
            <button
              type="submit"
              class="mt-3 p-button-warning"
              pButton
              label="Zarejestruj się"
            ></button>
          </div>
        </form>
      </p-card>
    </div>
  </div>
</div>
